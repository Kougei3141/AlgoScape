<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>💖 成長するドラゴンAI「ぷぷ」</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <div class="header">
      <h1 class="title">💖 成長するドラゴンAI「ぷぷ」</h1>
      <p>語彙と表現力で進化するピンクドラゴン「ぷぷ」とお話ししよう！</p>
        <p>AIzaSyBPuld1oRtLM-_3OdOKzD4sx3pqAZLvELk</p>
    </div>

    <!-- Gemini APIキー設定 -->
    <div class="api-setup" id="apiSetup">
      <h3>🔑 Gemini API キーの設定</h3>
      <input type="password" class="api-input" id="apiKeyInput" placeholder="Gemini APIキーを入力...">
      <button class="api-btn" id="saveApiKeyBtn">保存して開始</button>
      <p style="font-size: 0.9em; color: #666;">APIキーはブラウザに安全に保存されます。</p>
    </div>

    <!-- ステータス -->
    <div class="status-panel">
      <div class="phase-indicator" id="phaseIcon">🥚</div>
      <div class="phase-name" id="phaseName">たまごドラゴン</div>
      <div class="stats">
        <div class="stat"><div id="loveCount" class="stat-value">0</div><div class="stat-label">愛情度</div></div>
        <div class="stat"><div id="vocabCount" class="stat-value">0</div><div class="stat-label">語彙数</div></div>
        <div class="stat"><div id="responseCount" class="stat-value">0</div><div class="stat-label">会話回数</div></div>
      </div>
      <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
    </div>

    <!-- ぷぷキャラ -->
    <div class="ai-character-display" id="aiCharacterDisplayArea" style="display:none;">
      <img id="aiCharacterImage" src="assets/pupu_phase1.png" alt="ぷぷ">
      <div id="aiSpeechBubble" class="speech-bubble" style="display:none;">
        <p id="aiSpeechText"></p>
      </div>
    </div>

    <!-- チャット -->
    <div id="chatArea" class="chat-area"></div>
    <div id="loading" class="loading-indicator" style="display:none;">ぷぷ考え中... 🤔</div>

    <div class="input-area">
      <input id="userInput" class="input-field" type="text" placeholder="ぷぷに話しかけてね..." disabled>
      <button id="sendButton" class="send-btn" disabled>送信</button>
    </div>

    <!-- コントロール -->
    <div class="controls">
      <button class="control-btn" id="statusButton">📊 詳細ステータス</button>
      <button class="control-btn" id="resetButton">🔄 リセット</button>
      <button class="control-btn" id="teachButton">📚 単語を教える</button>
      <button class="control-btn" id="showApiSetupBtn">🔑 APIキー設定</button>

      <!-- 🧠 新しいナビゲーション -->
      <button class="control-btn" onclick="location.href='thinking.html'">💭 思考モード</button>
      <button class="control-btn" onclick="location.href='forest.html'">🌳 学習の森</button>
      <button class="control-btn" onclick="location.href='lab.html'">🔬 生成ラボ</button>
    </div>
  </div>

  <script src="pupu_core.js"></script>
  <script src="script.js"></script>
</body>
</html>
